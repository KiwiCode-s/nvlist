
eclipse {
    sourceSets {
        main {
            java.srcDirs 'src', 'gen'
        }
    }

    jdt {
        sourceCompatibility = JavaVersion.VERSION_1_7
        targetCompatibility = javaVersion.VERSION_1_7
    }

    project {
        linkedResource name: 'assets', type: '2', location: 'PARENT-1-PROJECT_LOC/template/res'
        natures 'com.android.ide.eclipse.adt.AndroidNature'
        buildCommands.clear();
        buildCommand "com.android.ide.eclipse.adt.ResourceManagerBuilder"
        buildCommand "com.android.ide.eclipse.adt.PreCompilerBuilder"
        buildCommand "org.eclipse.jdt.core.javabuilder"
        buildCommand "com.android.ide.eclipse.adt.ApkBuilder"
    }
    
    classpath {
        plusConfigurations += [ project.configurations.compile ]        
        containers 'com.android.ide.eclipse.adt.ANDROID_FRAMEWORK', 'com.android.ide.eclipse.adt.LIBRARIES'       
    }
}


android {
    // TODO: Use declared inputs/output
    android.applicationVariants.all { variant ->
        variant.mergeAssets.doLast {
            def outputFile = new File(outputDir, "assets.list")
            outputFile.text = "Hello World"
            logger.info("Wrote assets list to {}", outputFile)
        }
    }
}

