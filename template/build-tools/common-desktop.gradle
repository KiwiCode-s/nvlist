
apply plugin: 'java-library'
apply plugin: 'application'

def vnId = rootProject.name
mainClassName = "nl.weeaboo.vn.desktop.DesktopLauncher"
applicationName = vnId

test {
    workingDir = vnRootDir
}

run {
    workingDir = vnRootDir
    ignoreExitValue = true
}

eclipse {
    project {
        linkedResource name: 'assets', type: '2', location: 'PARENT-1-PROJECT_LOC/template'
    }
}

task assembleNvl(type: Zip) {
    from vnResDir
    archiveName "${vnId}.nvl"
}
assembleDist.dependsOn assembleNvl

tasks.distTar.enabled = false // Don't bother generating a .tar distribution

apply plugin: 'com.github.johnrengelman.shadow'

shadowJar {
   baseName = applicationName
   classifier = null
   version = null
}

task assemblePackrResources() {
    dependsOn assembleNvl
}
apply from: "${buildToolsDir}/common-packr.gradle"
